From: Ryan Pavlik <ryan.pavlik@collabora.com>
Date: Mon, 19 Dec 2022 12:58:38 -0600
Subject: Try to force using local packages

---
 repositories.maven.bzl | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

diff --git a/repositories.maven.bzl b/repositories.maven.bzl
index 9f3e944..6c8fd10 100644
--- a/repositories.maven.bzl
+++ b/repositories.maven.bzl
@@ -20,23 +20,23 @@ COPYBARA_MAVEN_ARTIFACTS = [
     maven.artifact("com.google.auto.value", "auto-value-annotations", "1.9"),
     maven.artifact("com.google.auto.value", "auto-value", "1.9"),
     maven.artifact("com.google.auto", "auto-common", "1.2.1"),
-    maven.artifact("com.google.code.findbugs", "jsr305", "3.0.2", neverlink = True),
-    maven.artifact("com.google.code.gson", "gson", "2.8.5"),
-    maven.artifact("com.google.flogger", "flogger-system-backend", "0.7.4"),
-    maven.artifact("com.google.flogger", "flogger", "0.7.4"),
+    maven.artifact("com.google.code.findbugs", "jsr305", "debian", neverlink = True),
+    maven.artifact("com.google.code.gson", "gson", "debian"),
+    maven.artifact("com.google.flogger", "flogger-system-backend", "debian"),
+    maven.artifact("com.google.flogger", "flogger", "debian"),
     maven.artifact("com.google.guava", "failureaccess", "1.0.1"),
     maven.artifact("com.google.guava", "guava-testlib", "31.1-jre", testonly = True),
-    maven.artifact("com.google.guava", "guava", "31.1-jre"),
+    maven.artifact("com.google.guava", "guava", "debian"),
     maven.artifact("com.google.http-client", "google-http-client-gson", "1.27.0"),
     maven.artifact("com.google.http-client", "google-http-client-test", "1.27.0", testonly = True),
-    maven.artifact("com.google.http-client", "google-http-client", "1.27.0"),
-    maven.artifact("com.google.jimfs", "jimfs", "1.2"),
-    maven.artifact("com.google.re2j", "re2j", "1.6"),
+    maven.artifact("com.google.http-client", "google-http-client", "debian"),
+    maven.artifact("com.google.jimfs", "jimfs", "debian"),
+    maven.artifact("com.google.re2j", "re2j", "debian"),
     maven.artifact("com.google.testparameterinjector", "test-parameter-injector", "1.8", testonly = True),
     maven.artifact("com.google.truth", "truth", "1.1.3", testonly = True),
     maven.artifact("com.google.truth.extensions", "truth-java8-extension", "0.41", testonly = True),
     maven.artifact("com.googlecode.java-diff-utils", "diffutils", "1.3.0"),
-    maven.artifact("commons-codec", "commons-codec", "1.11"),
+    maven.artifact("commons-codec", "commons-codec", "debian"),
     maven.artifact("junit", "junit", "4.13.2", testonly = True),
     maven.artifact("net.bytebuddy", "byte-buddy-agent", "1.9.10", testonly = True),
     maven.artifact("net.bytebuddy", "byte-buddy", "1.9.10", testonly = True),
@@ -55,4 +55,5 @@ def copybara_maven_repositories():
         name = DEFAULT_REPOSITORY_NAME,
         artifacts = COPYBARA_MAVEN_ARTIFACTS,
         repositories = ["file:/usr/share/maven-repo"] + COPYBARA_MAVEN_ARTIFACT_ADDITIONAL_REPOSITORIES + ["https://repo1.maven.org/maven2"],
+        fail_on_missing_checksum = False,
     )
